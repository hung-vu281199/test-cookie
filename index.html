<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="Login()">submit</button>
    <script>
        function Login() {
          var myHeaders = new Headers();
          myHeaders.append("Content-Type", "application/json");

          var raw = JSON.stringify({
            "username_or_email": "hungdt2811@gmail.com",
            "password": "Hung@1234"
          });

          var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            // redirect: 'follow',
            credentials: 'include'
          };
          
          fetch("http://117.2.143.218:8005/api/auth/login", requestOptions)
            .then(response => response.text())
            .then(result => {

              console.log(JSON.parse(result).data.data)
              document.cookie = "REFRESH_TOKEN=" + JSON.parse(result).data.data.token.refreshToken;
              document.cookie = "XSRF_TOKEN=" + JSON.parse(result).data.data.token.xsrfToken;
              var myHeaders = new Headers();
              myHeaders.append("Authorization", "Bearer " + JSON.parse(result).data.data.token.token);
              myHeaders.append("Content-Type", "application/json");

              var raw = JSON.stringify({
                "cip": "117.2.143.218"
              });

              var requestOptionss = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                credentials: 'include'
              };

              fetch("http://117.2.143.218:8005/api/transaction/send-code", requestOptionss)
                .then(response => response.text())
                .then(result => console.log(result))
                .catch(error => console.log('error', error));
            })
            .catch(error => console.log('error', error));
        }
    </script>
</body>
</html> -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="Login()">submit</button>
    <script>
        function Login() {
          var myHeaders = new Headers();
          myHeaders.append("Content-Type", "application/json");

          var raw = JSON.stringify({
            "usernameOrEmail": "hung2811.iuh@gmail.com",
            "password": "Hung@123"
          });

          var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            // redirect: 'follow',
            credentials: 'include'
          };
          
          fetch("http://115.78.232.196:88/api/auth/login", requestOptions)
            .then(response => response.text())
            .then(result => {
                console.log(JSON.parse(result))


                // var myHeaders = new Headers();
                // myHeaders.append("Authorization", "Bearer " + JSON.parse(result).data.token);
                
                // var requestOptions = {
                //   method: 'GET',
                //   headers: myHeaders,
                //   credentials: 'include'
                // };

                // fetch("http://localhost:4001/api/auth", requestOptions)
                //   .then(response => response.text())
                //   .then(result => console.log("ok nha: ", JSON.parse(result)))
                //   .catch(error => console.log('error', error));
            })

              // console.log(JSON.parse(result).data.data)
              // document.cookie = "REFRESH_TOKEN=" + JSON.parse(result).data.data.token.refreshToken;
              // document.cookie = "XSRF_TOKEN=" + JSON.parse(result).data.data.token.xsrfToken;
              // var myHeaders = new Headers();
              // myHeaders.append("Authorization", "Bearer " + JSON.parse(result).data.data.token.token);
              // myHeaders.append("Content-Type", "application/json");

              // var raw = JSON.stringify({
              //   "cip": "117.2.143.218"
              // });

            //   var requestOptionss = {
            //     method: 'POST',
            //     headers: myHeaders,
            //     body: raw,
            //     credentials: 'include'
            //   };

            //   fetch("http://117.2.143.218:8005/api/transaction/send-code", requestOptionss)
            //     .then(response => response.text())
            //     .then(result => console.log(result))
            //     .catch(error => console.log('error', error));
            // })
            .catch(error => console.log('error', error));
        }
    </script>
</body>
</html>
